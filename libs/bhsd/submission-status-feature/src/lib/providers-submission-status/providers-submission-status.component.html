<h1>Provider Submission Overview</h1>

<!-- <div class="input-group">
  <label for="month">Month</label>
  <select name="month" id="month">
    <option value="8">August</option>
  </select>
</div>
<div class="input-group">
  <label for="year">Year</label>
  <select name="year" id="year">
    <option value="2022">2022</option>
  </select>
</div> -->
<div class="filters">
  <div class="filter">
    <label for="reportingPeriod">Reporting Period</label>
    <input
      id="reportingPeriod"
      name="reportingPeriod"
      [value]="thisReportingPeriod"
    />
  </div>
  <div class="filter">
    <label for="statusFilter">Submission Status</label>
    <select
      name="statusFilter"
      id="statusFilter"
      (change)="updateFilters('status', $event)"
    >
      <option value="" disabled hidden selected>Select Status</option>
      <option value="Current" [selected]="statusFilter === 'Current'">
        Current
      </option>
      <option
        value="Expecting Submission"
        [selected]="statusFilter === 'Expecting Submission'"
      >
        Expecting Submission
      </option>
      <option
        value="Need Resubmission"
        [selected]="statusFilter === 'Need Resubmission'"
      >
        Need Resubmission
      </option>
      <option value="Past Due" [selected]="statusFilter === 'Past Due'">
        Past Due
      </option>
      <option value="">See All</option>
    </select>
  </div>
</div>

<h2>Submission Summary</h2>
<table>
  <thead>
    <tr>
      <th>Provider Name</th>
      <th>Service Type</th>
      <th>Submission Status</th>
      <th>Submitted On</th>
      <th>Total Records</th>
      <th>Pass</th>
      <th>Fail</th>
      <th>Pass Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let submission of submissionStatus$ | async">
      <td>
        <a
          [routerLink]="[
            '/provider-gateway/provider-profile',
            submission.providerId
          ]"
          >{{ submission.providerName }}</a
        >
      </td>
      <td class="service-type">
        {{ serviceType(submission) }}
      </td>
      <td>{{ submission.status }}</td>
      <td>
        <a
          *ngIf="submission.extractId !== undefined"
          [routerLink]="['/provider-gateway/submissions', submission.extractId]"
          >{{
            submission.submittedOn === undefined
              ? 'N/A'
              : (submission.submittedOn | date)
          }}
        </a>
        <span *ngIf="submission.extractId === undefined">N/A</span>
      </td>
      <td>{{ submission.totalRecords ?? 'N/A' }}</td>
      <td>{{ submission.pass ?? 'N/A' }}</td>
      <td>{{ submission.fail ?? 'N/A' }}</td>
      <td>{{ submission | passRate }}</td>
    </tr>
  </tbody>
</table>
