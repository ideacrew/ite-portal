<ng-container *ngIf="submission$ | async as submission">
  <ul class="breadcrumbs">
    <li>
      <a [routerLink]="['/provider-gateway/submissions/', submission.id]"
        >Submission Summary</a
      >
    </li>
    <li>Census</li>
  </ul>
  <h1>Census Breakdown</h1>
  <dbh-file-information
    [providerName]="submission.provider_name"
    [fileName]="submission.file_name"
    [reportingPeriod]="submission.coverage_start | date : 'MMMM, yyyy'"
    [submissionDate]="submission.created_at"
  ></dbh-file-information>
  <ng-container *ngIf="submissionCensusBreakdown$ | async as census">
    <table>
      <thead>
        <tr>
          <th>Metric</th>
          <th class="numeric">Total</th>
          <th class="numeric">MH Initial<br />Admissions</th>
          <th class="numeric">MH Transfers</th>
          <th class="numeric">SUD Initial<br />Admissions</th>
          <th class="numeric">SUD Transfers</th>
          <th class="numeric">Co-Occurring Records</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Total Episodes</td>
          <td class="numeric">{{ census.totalEpisodes.total }}</td>
          <td class="numeric">
            {{ census.totalEpisodes.mhInitialAdmissions }}
          </td>
          <td class="numeric">{{ census.totalEpisodes.mhTransfers }}</td>
          <td class="numeric">
            {{ census.totalEpisodes.sudInitialAdmissions }}
          </td>
          <td class="numeric">{{ census.totalEpisodes.sudTransfers }}</td>
          <td class="numeric">{{ census.totalEpisodes.coOccurringRecords }}</td>
        </tr>
        <tr>
          <td>Census At Start Of Reporting Period</td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.total }}
          </td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.mhInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.mhTransfers }}
          </td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.sudInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.sudTransfers }}
          </td>
          <td class="numeric">
            {{ census.censusAtStartOfReportingPeriod.coOccurringRecords }}
          </td>
        </tr>
        <tr>
          <td>Admissions/Transfers During Reporting Period</td>
          <td class="numeric">
            {{ census.admissionsTransfersDuringReportingPeriod.total }}
          </td>
          <td class="numeric">
            {{
              census.admissionsTransfersDuringReportingPeriod
                .mhInitialAdmissions
            }}
          </td>
          <td class="numeric">
            {{ census.admissionsTransfersDuringReportingPeriod.mhTransfers }}
          </td>
          <td class="numeric">
            {{
              census.admissionsTransfersDuringReportingPeriod
                .sudInitialAdmissions
            }}
          </td>
          <td class="numeric">
            {{ census.admissionsTransfersDuringReportingPeriod.sudTransfers }}
          </td>
          <td class="numeric">
            {{
              census.admissionsTransfersDuringReportingPeriod.coOccurringRecords
            }}
          </td>
        </tr>
        <tr>
          <td>Discharges During Reporting Period</td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.total }}
          </td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.mhInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.mhTransfers }}
          </td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.sudInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.sudTransfers }}
          </td>
          <td class="numeric">
            {{ census.dischargesDuringReportingPeriod.coOccurringRecords }}
          </td>
        </tr>
        <tr>
          <td>Census At End Of Reporting Period</td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.total }}
          </td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.mhInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.mhTransfers }}
          </td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.sudInitialAdmissions }}
          </td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.sudTransfers }}
          </td>
          <td class="numeric">
            {{ census.censusAtEndOfReportingPeriod.coOccurringRecords }}
          </td>
        </tr>
        <tr>
          <td>Count of Unique Clients Served during Reporting Period</td>
          <td class="numeric">
            {{ census.countOfUniqueClientsServedDuringReportingPeriod.total }}
          </td>
          <td class="numeric">
            {{
              census.countOfUniqueClientsServedDuringReportingPeriod
                .mhInitialAdmissions
            }}
          </td>
          <td class="numeric">
            {{
              census.countOfUniqueClientsServedDuringReportingPeriod.mhTransfers
            }}
          </td>
          <td class="numeric">
            {{
              census.countOfUniqueClientsServedDuringReportingPeriod
                .sudInitialAdmissions
            }}
          </td>
          <td class="numeric">
            {{
              census.countOfUniqueClientsServedDuringReportingPeriod
                .sudTransfers
            }}
          </td>
          <td class="numeric">
            {{
              census.countOfUniqueClientsServedDuringReportingPeriod
                .coOccurringRecords
            }}
          </td>
        </tr>
      </tbody>
    </table>
  </ng-container>
</ng-container>
